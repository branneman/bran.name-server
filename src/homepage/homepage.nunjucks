<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Homepage</title>

  {% if http2 %}
    <!-- HTTP/2: Server push the critical CSS file -->
    <link rel="stylesheet" href="/static/homepage/critical.css">
  {% else %}
    <!-- HTTP/1: Inline critical CSS with <style> -->
    <style>{{ criticalCSS|safe }}</style>
  {% endif %}

  <!-- Preload remaining CSS, and apply on arrival (with no-js fallback) -->
  <link rel="preload" href="/static/homepage/remaining.css" as="style" onload="this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="/static/homepage/remaining.css"></noscript>

  <script>
    {{ loadCSScore|safe }}
    {{ loadCSSrelPreload|safe }}
  </script>
</head>
<body>
  <div class="first-paint">
    <h1>I'm content above the fold, visible on most (if not all) screens without user interaction!</h1>
  </div>
  <div class="after-interaction">
    <h2>I'm secondary content, visible after user interaction</h2>
  </div>
</body>
</html>